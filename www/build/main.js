webpackJsonp([0],{145:function(n,l){function u(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id=145},178:function(n,l){function u(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id=178},217:function(n,l,u){"use strict";function t(n){return g._19(0,[(n()(),g.Z(0,0,null,null,2,"ion-nav",[],null,null,null,D.b,D.a)),g._14(6144,null,V.a,null,[O.a]),g.Y(2,4374528,null,0,O.a,[[2,$.a],[2,U.a],X.a,q.a,S.a,g.j,g.u,g.z,g.i,W.l,H.a,[2,A.a],B.a,g.k],{root:[0,"root"]},null),(n()(),g._18(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}function e(n){return g._19(0,[(n()(),g.Z(0,0,null,null,6,"ion-item",[["class","item item-block"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.openChat(n.context.$implicit)&&t}return t},K.b,K.a)),g.Y(1,1097728,null,3,Q.a,[nn.a,q.a,g.j,g.z,[2,ln.a]],null,null),g._16(335544320,1,{contentLabel:0}),g._16(603979776,2,{_buttons:1}),g._16(603979776,3,{_icons:1}),g.Y(5,16384,null,0,un.a,[],null,null),(n()(),g._18(6,2,["\n\t\t","\n\t"]))],null,function(n,l){n(l,6,0,l.context.$implicit.name)})}function a(n){return g._19(0,[(n()(),g._18(-1,null,["\n"])),(n()(),g.Z(1,0,null,null,10,"ion-header",[],null,null,null,null,null)),g.Y(2,16384,null,0,tn.a,[q.a,g.j,g.z,[2,$.a]],null,null),(n()(),g._18(-1,null,["\n\n  "])),(n()(),g.Z(4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,en.b,en.a)),g.Y(5,49152,null,0,an.a,[X.a,[2,$.a],[2,U.a],q.a,g.j,g.z],null,null),(n()(),g._18(-1,3,["\n    "])),(n()(),g.Z(7,0,null,3,2,"ion-title",[],null,null,null,on.b,on.a)),g.Y(8,49152,null,0,sn.a,[q.a,g.j,g.z,[2,rn.a],[2,an.a]],null,null),(n()(),g._18(-1,0,["List"])),(n()(),g._18(-1,3,["\n  "])),(n()(),g._18(-1,null,["\n\n"])),(n()(),g._18(-1,null,["\n\n\n"])),(n()(),g.Z(13,0,null,null,18,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,cn.b,cn.a)),g.Y(14,4374528,null,0,dn.a,[q.a,S.a,B.a,g.j,g.z,X.a,_n.a,g.u,[2,$.a],[2,U.a]],null,null),(n()(),g._18(-1,1,["\n\n\t"])),(n()(),g.U(16777216,null,1,1,null,e)),g.Y(17,802816,null,0,gn.h,[g.I,g.F,g.p],{ngForOf:[0,"ngForOf"]},null),(n()(),g._18(-1,1,["\n\n  "])),(n()(),g.Z(19,0,null,0,11,"ion-fab",[["bottom",""],["padding",""],["right",""]],null,null,null,pn.b,pn.a)),g.Y(20,1228800,null,2,hn.a,[S.a],null,null),g._16(335544320,4,{_mainButton:0}),g._16(603979776,5,{_fabLists:1}),(n()(),g._18(-1,0,["\n    "])),(n()(),g.Z(24,0,null,0,5,"button",[["ion-fab",""]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.createNode()&&t}return t},mn.b,mn.a)),g.Y(25,49152,[[4,4]],0,fn.a,[q.a,g.j,g.z],null,null),(n()(),g._18(-1,0,["  \n      "])),(n()(),g.Z(27,0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),g.Y(28,147456,null,0,bn.a,[q.a,g.j,g.z],{name:[0,"name"]},null),(n()(),g._18(-1,0,["\n    "])),(n()(),g._18(-1,0,["\n  "])),(n()(),g._18(-1,1,["\n\n"])),(n()(),g._18(-1,null,["\n"]))],function(n,l){n(l,17,0,l.component.nodes);n(l,28,0,"add")},function(n,l){n(l,4,0,g._11(l,5)._hidden,g._11(l,5)._sbPadding);n(l,13,0,g._11(l,14).statusbarPadding,g._11(l,14)._hasRefresher);n(l,27,0,g._11(l,28)._hidden)})}function o(n){return g._19(0,[(n()(),g.Z(0,0,null,null,1,"div",[["class","message-name"]],null,null,null,null,null)),(n()(),g._18(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function i(n){return g._19(0,[(n()(),g.Z(0,0,null,null,6,"span",[["class","typing"]],null,null,null,null,null)),(n()(),g.Z(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._18(-1,null,["•"])),(n()(),g.Z(3,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._18(-1,null,["•"])),(n()(),g.Z(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._18(-1,null,["•"]))],null,null)}function s(n){return g._19(0,[(n()(),g.Z(0,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.content)})}function r(n){return g._19(0,[(n()(),g.Z(0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),g._18(-1,null,["\n    "])),(n()(),g.Z(2,0,null,null,14,"div",[],null,null,null,null,null)),g.Y(3,278528,null,0,gn.g,[g.p,g.q,g.j,g.A],{ngClass:[0,"ngClass"]},null),(n()(),g._18(-1,null,["\n      "])),(n()(),g.U(16777216,null,null,1,null,o)),g.Y(6,16384,null,0,gn.i,[g.I,g.F],{ngIf:[0,"ngIf"]},null),(n()(),g._18(-1,null,["\n      \n      "])),(n()(),g.Z(8,0,null,null,7,"div",[["class","message-bubble"]],null,null,null,null,null)),(n()(),g._18(-1,null,["\n        "])),(n()(),g.U(16777216,null,null,1,null,i)),g.Y(11,16384,null,0,gn.i,[g.I,g.F],{ngIf:[0,"ngIf"]},null),(n()(),g._18(-1,null,["\n        "])),(n()(),g.U(16777216,null,null,1,null,s)),g.Y(14,16384,null,0,gn.i,[g.I,g.F],{ngIf:[0,"ngIf"]},null),(n()(),g._18(-1,null,["\n      "])),(n()(),g._18(-1,null,["\n    "])),(n()(),g._18(-1,null,["\n  "]))],function(n,l){n(l,3,0,l.context.$implicit.styleClass);n(l,6,0,l.context.$implicit.name);n(l,11,0,l.context.$implicit.typing);n(l,14,0,!l.context.$implicit.typing)},null)}function c(n){return g._19(0,[g._16(402653184,1,{content:0}),(n()(),g.Z(1,0,null,null,22,"ion-header",[],null,null,null,null,null)),g.Y(2,16384,null,0,tn.a,[q.a,g.j,g.z,[2,$.a]],null,null),(n()(),g._18(-1,null,["\n  "])),(n()(),g.Z(4,0,null,null,18,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,en.b,en.a)),g.Y(5,49152,null,0,an.a,[X.a,[2,$.a],[2,U.a],q.a,g.j,g.z],null,null),(n()(),g._18(-1,3,["\n    "])),(n()(),g.Z(7,0,null,3,2,"ion-title",[],null,null,null,on.b,on.a)),g.Y(8,49152,null,0,sn.a,[q.a,g.j,g.z,[2,rn.a],[2,an.a]],null,null),(n()(),g._18(9,0,["\n    \t","\n    "])),(n()(),g._18(-1,3,["\n    "])),(n()(),g.Z(11,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),g.Y(12,16384,null,1,Yn.a,[q.a,g.j,g.z,[2,rn.a],[2,an.a]],null,null),g._16(603979776,2,{_buttons:1}),(n()(),g._18(-1,null,["\n    \t"])),(n()(),g.Z(15,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""],["item-right",""]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.openEditModal()&&t}return t},Zn.b,Zn.a)),g.Y(16,1097728,[[2,4]],0,jn.a,[[8,""],q.a,g.j,g.z],{clear:[0,"clear"]},null),(n()(),g._18(-1,0,["\n      "])),(n()(),g.Z(18,0,null,0,1,"ion-icon",[["name","md-create"],["role","img"]],[[2,"hide",null]],null,null,null,null)),g.Y(19,147456,null,0,bn.a,[q.a,g.j,g.z],{name:[0,"name"]},null),(n()(),g._18(-1,0,["   \n    "])),(n()(),g._18(-1,null,["\n    "])),(n()(),g._18(-1,3,["\n  "])),(n()(),g._18(-1,null,["\n"])),(n()(),g._18(-1,null,["\n\n"])),(n()(),g.Z(25,0,null,null,5,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,cn.b,cn.a)),g.Y(26,4374528,[[1,4]],0,dn.a,[q.a,S.a,B.a,g.j,g.z,X.a,_n.a,g.u,[2,$.a],[2,U.a]],null,null),(n()(),g._18(-1,1,["\n  "])),(n()(),g.U(16777216,null,1,1,null,r)),g.Y(29,802816,null,0,gn.h,[g.I,g.F,g.p],{ngForOf:[0,"ngForOf"]},null),(n()(),g._18(-1,1,["\n"])),(n()(),g._18(-1,null,["\n\n"])),(n()(),g.Z(32,0,null,null,23,"ion-footer",[],null,null,null,null,null)),g.Y(33,16384,null,0,In.a,[q.a,g.j,g.z,[2,$.a]],null,null),(n()(),g._18(-1,null,["\n  "])),(n()(),g.Z(35,0,null,null,19,"ion-item",[["class","item item-block"]],null,null,null,K.b,K.a)),g.Y(36,1097728,null,3,Q.a,[nn.a,q.a,g.j,g.z,[2,ln.a]],null,null),g._16(335544320,3,{contentLabel:0}),g._16(603979776,4,{_buttons:1}),g._16(603979776,5,{_icons:1}),g.Y(40,16384,null,0,un.a,[],null,null),(n()(),g._18(-1,2,["\n    "])),(n()(),g.Z(42,0,null,3,4,"ion-input",[["placeholder","Enter message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"]],function(n,l,u){var t=!0,e=n.component;if("ngModelChange"===l){t=!1!==(e.msgInput=u)&&t}if("keyup.enter"===l){t=!1!==e.send(e.msgInput)&&t}return t},Mn.b,Mn.a)),g.Y(43,671744,null,0,zn.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),g._14(2048,null,zn.f,null,[zn.h]),g.Y(45,16384,null,0,zn.g,[zn.f],null,null),g.Y(46,5423104,null,0,Pn.a,[q.a,S.a,nn.a,X.a,g.j,g.z,[2,dn.a],[2,Q.a],[2,zn.f],B.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),g._18(-1,2,["\n    "])),(n()(),g.Z(48,0,null,4,5,"button",[["clear",""],["icon-only",""],["ion-button",""],["item-right",""]],null,[[null,"mousedown"]],function(n,l,u){var t=!0,e=n.component;if("mousedown"===l){e.send(e.msgInput);t=!1!==u.preventDefault()&&t}return t},Zn.b,Zn.a)),g.Y(49,1097728,[[4,4]],0,jn.a,[[8,""],q.a,g.j,g.z],{clear:[0,"clear"]},null),(n()(),g._18(-1,0,["\n    \t"])),(n()(),g.Z(51,0,null,0,1,"ion-icon",[["name","md-send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),g.Y(52,147456,null,0,bn.a,[q.a,g.j,g.z],{name:[0,"name"]},null),(n()(),g._18(-1,0,["  \t\n    "])),(n()(),g._18(-1,2,["\n  "])),(n()(),g._18(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,16,0,"");n(l,19,0,"md-create");n(l,29,0,u.messages);n(l,43,0,u.msgInput);n(l,46,0,"text","Enter message");n(l,49,0,"");n(l,52,0,"md-send")},function(n,l){var u=l.component;n(l,4,0,g._11(l,5)._hidden,g._11(l,5)._sbPadding);n(l,9,0,u.node.name);n(l,18,0,g._11(l,19)._hidden);n(l,25,0,g._11(l,26).statusbarPadding,g._11(l,26)._hasRefresher);n(l,42,0,g._11(l,45).ngClassUntouched,g._11(l,45).ngClassTouched,g._11(l,45).ngClassPristine,g._11(l,45).ngClassDirty,g._11(l,45).ngClassValid,g._11(l,45).ngClassInvalid,g._11(l,45).ngClassPending);n(l,51,0,g._11(l,52)._hidden)})}function d(n){return g._19(0,[(n()(),g._18(-1,null,["\n"])),(n()(),g.Z(1,0,null,null,23,"ion-header",[],null,null,null,null,null)),g.Y(2,16384,null,0,tn.a,[q.a,g.j,g.z,[2,$.a]],null,null),(n()(),g._18(-1,null,["\n\n  "])),(n()(),g.Z(4,0,null,null,19,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,en.b,en.a)),g.Y(5,49152,null,0,an.a,[X.a,[2,$.a],[2,U.a],q.a,g.j,g.z],null,null),(n()(),g._18(-1,3,["\n    "])),(n()(),g.Z(7,0,null,3,2,"ion-title",[],null,null,null,on.b,on.a)),g.Y(8,49152,null,0,sn.a,[q.a,g.j,g.z,[2,rn.a],[2,an.a]],null,null),(n()(),g._18(-1,0,["Edit"])),(n()(),g._18(-1,3,["\n     "])),(n()(),g.Z(11,0,null,2,11,"ion-buttons",[["end",""]],null,null,null,null,null)),g.Y(12,16384,null,1,Yn.a,[q.a,g.j,g.z,[2,rn.a],[2,an.a]],null,null),g._16(603979776,1,{_buttons:1}),(n()(),g._18(-1,null,["\n    \t"])),(n()(),g.Z(15,0,null,null,2,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.cancel()&&t}return t},Zn.b,Zn.a)),g.Y(16,1097728,[[1,4]],0,jn.a,[[8,""],q.a,g.j,g.z],null,null),(n()(),g._18(-1,0,["Cancel"])),(n()(),g._18(-1,null,["\n      "])),(n()(),g.Z(19,0,null,null,2,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.save()&&t}return t},Zn.b,Zn.a)),g.Y(20,1097728,[[1,4]],0,jn.a,[[8,""],q.a,g.j,g.z],null,null),(n()(),g._18(-1,0,["Save"])),(n()(),g._18(-1,null,["\n    "])),(n()(),g._18(-1,3,["\n  "])),(n()(),g._18(-1,null,["\n\n"])),(n()(),g._18(-1,null,["\n\n\n"])),(n()(),g.Z(26,0,null,null,41,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,cn.b,cn.a)),g.Y(27,4374528,null,0,dn.a,[q.a,S.a,B.a,g.j,g.z,X.a,_n.a,g.u,[2,$.a],[2,U.a]],null,null),(n()(),g._18(-1,1,["\n\t\n  "])),(n()(),g.Z(29,0,null,1,16,"ion-item",[["class","item item-block"]],null,null,null,K.b,K.a)),g.Y(30,1097728,null,3,Q.a,[nn.a,q.a,g.j,g.z,[2,ln.a]],null,null),g._16(335544320,2,{contentLabel:0}),g._16(603979776,3,{_buttons:1}),g._16(603979776,4,{_icons:1}),g.Y(34,16384,null,0,un.a,[],null,null),(n()(),g._18(-1,2,["\n    "])),(n()(),g.Z(36,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),g.Y(37,16384,[[2,4]],0,Rn.a,[q.a,g.j,g.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),g._18(-1,null,["Name"])),(n()(),g._18(-1,2,["\n    "])),(n()(),g.Z(40,0,null,3,4,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,u){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.name=u)&&t}return t},Mn.b,Mn.a)),g.Y(41,671744,null,0,zn.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),g._14(2048,null,zn.f,null,[zn.h]),g.Y(43,16384,null,0,zn.g,[zn.f],null,null),g.Y(44,5423104,null,0,Pn.a,[q.a,S.a,nn.a,X.a,g.j,g.z,[2,dn.a],[2,Q.a],[2,zn.f],B.a],{type:[0,"type"]},null),(n()(),g._18(-1,2,["\n  "])),(n()(),g._18(-1,1,["\n\n    \n  "])),(n()(),g.Z(47,0,null,1,10,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,K.b,K.a)),g.Y(48,1097728,null,3,Q.a,[nn.a,q.a,g.j,g.z,[2,ln.a]],null,null),g._16(335544320,5,{contentLabel:0}),g._16(603979776,6,{_buttons:1}),g._16(603979776,7,{_icons:1}),g.Y(52,16384,null,0,un.a,[],null,null),(n()(),g._18(-1,2,["\n    "])),(n()(),g.Z(54,0,null,1,2,"ion-label",[["class","gray"],["stacked",""]],null,null,null,null,null)),g.Y(55,16384,[[5,4]],0,Rn.a,[q.a,g.j,g.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),g._18(-1,null,["Script"])),(n()(),g._18(-1,2,["\n  "])),(n()(),g._18(-1,1,["\n  \n  "])),(n()(),g.Z(59,0,null,1,7,"ngx-codemirror",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,u){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.script=u)&&t}return t},E.c,E.b)),g.Y(60,4374528,null,0,m.a,[m.c,g.u],{config:[0,"config"]},null),g._13(61,{lineNumbers:0}),g._14(1024,null,zn.e,function(n){return[n]},[m.a]),g.Y(63,671744,null,0,zn.h,[[8,null],[8,null],[8,null],[2,zn.e]],{model:[0,"model"]},{update:"ngModelChange"}),g._14(2048,null,zn.f,null,[zn.h]),g.Y(65,16384,null,0,zn.g,[zn.f],null,null),(n()(),g._18(-1,null,["\n  "])),(n()(),g._18(-1,1,["  \t\n\n\n"])),(n()(),g._18(-1,null,["\n\n\n"]))],function(n,l){var u=l.component;n(l,41,0,u.name);n(l,44,0,"text");n(l,60,0,n(l,61,0,!0));n(l,63,0,u.script)},function(n,l){n(l,4,0,g._11(l,5)._hidden,g._11(l,5)._sbPadding);n(l,26,0,g._11(l,27).statusbarPadding,g._11(l,27)._hasRefresher);n(l,40,0,g._11(l,43).ngClassUntouched,g._11(l,43).ngClassTouched,g._11(l,43).ngClassPristine,g._11(l,43).ngClassDirty,g._11(l,43).ngClassValid,g._11(l,43).ngClassInvalid,g._11(l,43).ngClassPending);n(l,59,0,g._11(l,65).ngClassUntouched,g._11(l,65).ngClassTouched,g._11(l,65).ngClassPristine,g._11(l,65).ngClassDirty,g._11(l,65).ngClassValid,g._11(l,65).ngClassInvalid,g._11(l,65).ngClassPending)})}Object.defineProperty(l,"__esModule",{value:!0});var _=u(40),g=u(0),p=(u(3),u(53),u(81)),h=u(82),m=u(63),f=u(126),b=u(260),v="https://htserver.herokuapp.com",y=function(){function n(n){var l=this;this.http=n,this.currentRoomId=null,this.socket=b(v),this.socket.on("disconnect",function(){console.log("socket disconnect")}),this.socket.on("connect",function(){console.log("socket connect")}),this.socket.on("reconnect_attempt",function(){console.log("reconnect_attempt"),l.socket.io.opts.query={currentRoomId:l.currentRoomId}})}return n.prototype.setCurrentRoomId=function(n){this.currentRoomId=n},n.prototype.socketConnected=function(){return this.socket.connected},n.prototype.joinRoom=function(n){this.setCurrentRoomId(n),this.socket.emit("joinRoom",n)},n.prototype.listenForMessages=function(n){this.socket.on("message",n)},n.prototype.emitMessage=function(n,l){this.socket.emit("message",{message:n,room:l})},n.prototype.leaveRoom=function(n){this.setCurrentRoomId(null),this.socket.off("message"),this.socket.emit("leaveRoom",n)},n.prototype.getNodes=function(){return this.http.get(v+"/nodes")},n.prototype.getNode=function(n){return this.http.get(v+"/node?id="+n)},n.prototype.postNode=function(n,l){return this.http.post(v+"/node",{id:n,script:l.script,name:l.name})},n}(),k=function(){function n(n,l,u,t,e){var a=this;this.navCtrl=n,this.navParams=l,this.viewCtrl=u,this._codeMirror=t,this.server=e,this.nodeId="",this.script="",this.name="",this.nodeId=l.get("nodeId"),this.nodeId&&(console.log("sending get request for node "+this.nodeId),this.server.getNode(this.nodeId).subscribe(function(n){console.log(n),n.script&&(a.script=n.script),n.name&&(a.name=n.name)}))}return n.prototype.ngOnInit=function(){var n=this;this._codeMirror.instance$.subscribe(function(l){n.codemirror=l})},n.prototype.save=function(){var n=this;this.server.postNode(this.nodeId,{name:this.name,script:this.script}).subscribe(function(l){console.log(l),n.nodeId=l.node.id,n.viewCtrl.dismiss()},function(n){alert("error saving script")})},n.prototype.cancel=function(){this.viewCtrl.dismiss(null)},n}(),C=u(285),Y=function(){function n(n,l,u,t){this.navCtrl=n,this.navParams=l,this.modalCtrl=u,this.server=t,this.msgInput="",this.messages=[],this.node=this.navParams.get("node"),this.autoTyping=!1}return n.prototype.ngAfterViewInit=function(){C(document).ready(function(){console.log("JQuery is working!!")})},n.prototype.ionViewWillEnter=function(){var n=this;this.systemMsg("connecting..."),console.log("asking server to send to room "+this.node.id),this.server.joinRoom(this.node.id),this.server.listenForMessages(function(l){n.receive(l)})},n.prototype.openEditModal=function(){var n=this,l=this.modalCtrl.create(k,{nodeId:this.node.id});l.onDidDismiss(function(l){n.server.getNode(n.node.id).subscribe(function(l){n.node=l})}),l.present()},n.prototype.chatMsg=function(n,l){this.displayMsg({styleClass:"chat-message "+l,content:n.message,name:"left"==l?n.name:null,typing:"left"==l})},n.prototype.systemMsg=function(n){this.displayMsg({styleClass:"system-message",content:n})},n.prototype.updateMarkEvents=function(){var n=this;setTimeout(function(){console.log("setting up events on marks"),C("mark").off("click"),C("mark").on("click",function(l){n.autoType(l.target.innerHTML)})},500)},n.prototype.autoType=function(n){var l=this;if(!this.autoTyping){this.autoTyping=!0;var u=function(n,t){var e=n.substr(0,1),a=n.substr(1);l.msgInput+=e,""!=a&&setTimeout(function(){u(a,t)},t)};u(n,90),setTimeout(function(){l.send(l.msgInput),l.autoTyping=!1},90*(n.length+5))}},n.prototype.displayMsg=function(n){var l=this;if(this.messages.push(n),n.typing){var u=this.messages.length-1;setTimeout(function(){l.messages[u].typing=!1,l.updateMarkEvents()},100*n.content.length)}this.content._scroll&&this.content.scrollTo(0,this.content.getContentDimensions().scrollHeight-48,500)},n.prototype.send=function(n){""!=n&&(this.chatMsg({message:n},"right"),this.server.emitMessage(n,this.node.id)),this.msgInput=""},n.prototype.receive=function(n){console.log("received message"),console.log(n),n&&(n.system?(n.message&&this.systemMsg(n.message),n.moveTo&&(this.node=n.moveTo)):this.chatMsg(n,"left"))},n.prototype.ionViewWillLeave=function(){this.server.leaveRoom(this.node.id)},n}(),Z=function(){function n(n,l,u,t){this.navCtrl=n,this.navParams=l,this.modalCtrl=u,this.server=t,this.nodes=[]}return n.prototype.updateNodeList=function(){var n=this;this.server.getNodes().subscribe(function(l){console.log(l),n.nodes=l.nodes})},n.prototype.ionViewWillEnter=function(){console.log("ionViewDidLoad ListPage"),this.updateNodeList()},n.prototype.openChat=function(n){console.log(n),this.navCtrl.push(Y,{node:n})},n.prototype.createNode=function(){var n=this,l=this.modalCtrl.create(k,{nodeId:null});l.onDidDismiss(function(l){n.updateNodeList()}),l.present()},n}(),j=function(){return function(n,l,u){this.rootPage=Z,n.ready().then(function(){l.styleDefault(),u.hide()})}}(),I=function(){return function(){}}(),M=u(54),z=u(286),P=u(287),T=u(288),w=u(289),R=u(290),N=u(291),x=u(292),F=u(293),L=u(294),E=u(215),D=u(295),V=u(43),O=u(59),$=u(5),U=u(19),X=u(6),q=u(1),S=u(4),W=u(9),H=u(35),A=u(18),B=u(8),G=g.X({encapsulation:2,styles:[],data:{}}),J=g.V("ng-component",j,function(n){return g._19(0,[(n()(),g.Z(0,0,null,null,1,"ng-component",[],null,null,null,t,G)),g.Y(1,49152,null,0,j,[S.a,h.a,p.a],null,null)],null,null)},{},{},[]),K=u(86),Q=u(15),nn=u(13),ln=u(37),un=u(48),tn=u(62),en=u(130),an=u(24),on=u(131),sn=u(50),rn=u(39),cn=u(132),dn=u(22),_n=u(23),gn=u(11),pn=u(296),hn=u(70),mn=u(297),fn=u(47),bn=u(28),vn=u(10),yn=u(60),kn=g.X({encapsulation:2,styles:[],data:{}}),Cn=g.V("page-list",Z,function(n){return g._19(0,[(n()(),g.Z(0,0,null,null,1,"page-list",[],null,null,null,a,kn)),g.Y(1,49152,null,0,Z,[U.a,vn.a,yn.a,y],null,null)],null,null)},{},{},[]),Yn=u(80),Zn=u(30),jn=u(20),In=u(116),Mn=u(216),zn=u(12),Pn=u(58),Tn=g.X({encapsulation:2,styles:[],data:{}}),wn=g.V("page-chat",Y,function(n){return g._19(0,[(n()(),g.Z(0,0,null,null,1,"page-chat",[],null,null,null,c,Tn)),g.Y(1,4243456,null,0,Y,[U.a,vn.a,yn.a,y],null,null)],null,null)},{},{},[]),Rn=u(46),Nn=g.X({encapsulation:2,styles:[],data:{}}),xn=g.V("page-edit",k,function(n){return g._19(0,[(n()(),g.Z(0,0,null,null,1,"page-edit",[],null,null,null,d,Nn)),g.Y(1,114688,null,0,k,[U.a,vn.a,$.a,m.c,y],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Fn=u(124),Ln=u(95),En=u(97),Dn=u(121),Vn=u(38),On=u(102),$n=u(201),Un=u(56),Xn=u(49),qn=u(68),Sn=u(108),Wn=u(120),Hn=u(115),An=u(200),Bn=u(122),Gn=u(33),Jn=u(103),Kn=u(123),Qn=g.W(I,[M.b],function(n){return g._7([g._8(512,g.i,g.S,[[8,[z.a,P.a,T.a,w.a,R.a,N.a,x.a,F.a,L.a,E.a,J,Cn,wn,xn]],[3,g.i],g.s]),g._8(5120,g.r,g._15,[[3,g.r]]),g._8(4608,gn.k,gn.j,[g.r,[2,gn.s]]),g._8(5120,g.b,g._1,[]),g._8(5120,g.p,g._9,[]),g._8(5120,g.q,g._12,[]),g._8(4608,_.c,_.q,[gn.c]),g._8(6144,g.D,null,[_.c]),g._8(4608,_.f,Fn.a,[]),g._8(5120,_.d,function(n,l,u,t,e){return[new _.k(n,l),new _.o(u),new _.n(t,e)]},[gn.c,g.u,gn.c,gn.c,_.f]),g._8(4608,_.e,_.e,[_.d,g.u]),g._8(135680,_.m,_.m,[gn.c]),g._8(4608,_.l,_.l,[_.e,_.m]),g._8(6144,g.B,null,[_.l]),g._8(6144,_.p,null,[_.m]),g._8(4608,g.G,g.G,[g.u]),g._8(4608,_.h,_.h,[gn.c]),g._8(4608,_.i,_.i,[gn.c]),g._8(4608,zn.k,zn.k,[]),g._8(4608,zn.c,zn.c,[]),g._8(4608,m.c,m.c,[]),g._8(4608,f.h,f.n,[gn.c,g.w,f.l]),g._8(4608,f.o,f.o,[f.h,f.m]),g._8(5120,f.a,function(n){return[n]},[f.o]),g._8(4608,f.k,f.k,[]),g._8(6144,f.i,null,[f.k]),g._8(4608,f.g,f.g,[f.i]),g._8(6144,f.b,null,[f.g]),g._8(4608,f.f,f.j,[f.b,g.o]),g._8(4608,f.c,f.c,[f.f]),g._8(4608,Ln.a,Ln.a,[X.a,q.a]),g._8(4608,En.a,En.a,[X.a,q.a]),g._8(4608,Dn.a,Dn.a,[]),g._8(4608,nn.a,nn.a,[]),g._8(4608,Vn.a,Vn.a,[S.a]),g._8(4608,_n.a,_n.a,[q.a,S.a,g.u,B.a]),g._8(4608,On.a,On.a,[X.a,q.a]),g._8(5120,gn.f,$n.b,[gn.q,[2,gn.a],q.a]),g._8(4608,gn.e,gn.e,[gn.f]),g._8(5120,Un.b,Un.d,[X.a,Un.a]),g._8(5120,A.a,A.b,[X.a,Un.b,gn.e,Xn.b,g.i]),g._8(4608,yn.a,yn.a,[X.a,q.a,A.a]),g._8(4608,qn.a,qn.a,[X.a,q.a]),g._8(4608,Sn.a,Sn.a,[X.a,q.a,A.a]),g._8(4608,Wn.a,Wn.a,[q.a,S.a,B.a,X.a,W.l]),g._8(4608,Hn.a,Hn.a,[X.a,q.a]),g._8(4608,H.a,H.a,[S.a,q.a]),g._8(4608,h.a,h.a,[]),g._8(4608,p.a,p.a,[]),g._8(4608,y,y,[f.c]),g._8(512,gn.b,gn.b,[]),g._8(512,g.k,An.a,[]),g._8(256,q.b,{},[]),g._8(1024,Bn.a,Bn.b,[]),g._8(1024,S.a,S.b,[_.b,Bn.a,g.u]),g._8(1024,q.a,q.c,[q.b,S.a]),g._8(512,B.a,B.a,[S.a]),g._8(512,Gn.a,Gn.a,[]),g._8(512,X.a,X.a,[q.a,S.a,[2,Gn.a]]),g._8(512,W.l,W.l,[X.a]),g._8(256,Un.a,{links:[]},[]),g._8(512,g.h,g.h,[]),g._8(512,Jn.a,Jn.a,[g.h]),g._8(1024,Xn.b,Xn.c,[Jn.a,g.o]),g._8(1024,g.c,function(n,l,u,t,e,a,o,i,s,r,c,d,g){return[_.s(n),Kn.a(l),Dn.b(u,t),Wn.b(e,a,o,i,s),Xn.d(r,c,d,g)]},[[2,g.t],q.a,S.a,B.a,q.a,S.a,B.a,X.a,W.l,q.a,Un.a,Xn.b,g.u]),g._8(512,g.d,g.d,[[2,g.c]]),g._8(131584,g.f,g.f,[g.u,g.T,g.o,g.k,g.i,g.d]),g._8(512,g.e,g.e,[g.f]),g._8(512,_.a,_.a,[[3,_.a]]),g._8(512,zn.j,zn.j,[]),g._8(512,zn.d,zn.d,[]),g._8(512,zn.i,zn.i,[]),g._8(512,$n.a,$n.a,[]),g._8(512,m.b,m.b,[]),g._8(512,f.e,f.e,[]),g._8(512,f.d,f.d,[]),g._8(512,I,I,[]),g._8(256,f.l,"XSRF-TOKEN",[]),g._8(256,f.m,"X-XSRF-TOKEN",[]),g._8(256,M.a,j,[]),g._8(256,gn.a,"/",[])])});u(298);Object(g.M)(),Object(_.j)().bootstrapModuleFactory(Qn)},282:function(n,l){}},[217]);